{% import 'macros/form.html' as form %}

{% snippet 'selfinfo/snippets/selfinfo_content_header.html', icon_class='fas fa-user-slash me-2', label=_('User - Deleted') %}

<div class="p-3">
    <div class="d-flex mb-3">
        <a class="me-3" href="https://datashades.github.io/ckanext-selfinfo/selftools/categories/user/" target="_blank">
            {{ _('Documentation') }}
        </a>
    </div>
    
    <div class="">
        <form class="form-control border-0 shadow-none p-0" hx-post="{{ h.url_for('selftools_htmx.selftools_user_deleted') }}" hx-trigger="submit" hx-target="#user-deleted-resp" hx-swap="innerHTML">
            <div class="info-block mb-3">
                <i class="fa fa-info-circle"></i>
                {{ _('Display all deleted users.') }}
            </div>
    
            <div class="mt-3 mb-3">
                <label for="limit">{{ _('Limit') }}</label>
                <input type="number" name="limit" min="1" max="{{ h.get_operations_limit() }}" step="1" value="100" class="" required />
            </div>
    
            <button type="button" class="btn selfinfo-button-main-color-bg text-white mt-2" data-bs-toggle="modal" data-bs-target="#user-deleted-confirmation">
                {{ _('Show Deleted Users') }}
            </button>

            {% snippet "selftools/snippets/confirmation.html", modal_id='user-deleted-confirmation', modal_label_id='user-deleted-label-id' %}
        </form>
    </div>
    
    <div id="user-deleted-resp" class="bg-light p-3 border rounded mt-3">
        <p class="text-muted">{{ _('Click "Show Deleted Users" to view the list...') }}</p>
    </div>
</div>
